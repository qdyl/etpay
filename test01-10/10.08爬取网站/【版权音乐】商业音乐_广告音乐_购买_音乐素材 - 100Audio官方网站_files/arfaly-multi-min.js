var Asas=function(e){var a,i,t,s,n,r,l,o,d,c,f,u,p;a=function(){var a,f,u;for(i=e.pad||"",t=e.dataBits,s=e.codeBits,n=e.keyString,r=e.arrayData,f=Math.max(t,s),u=0,l=[],a=0;a<f;a+=1)l.push(u),u+=u+1;d=u,o=t/c(t,s)},c=function(e,a){for(var i;0!==a;)i=a,a=e%a,e=i;return e},f=function(e,a,t,s){var c,f,u,p,g,y,m,v;for(v=function(e){s?r?m.push(e):m.push(String.fromCharCode(e)):m.push(n.charAt(e))},g=0,y=0,m=[],f=e.length,c=0;c<f;c+=1){if(y+=a,s){if(u=e.charAt(c),p=n.indexOf(u),u===i)break;if(p<0)throw'the character "'+u+'" is not a member of '+n}else if(p=r?e[c]:e.charCodeAt(c),(p|d)!==d)throw p+" is outside the range 0-"+d;for(g=g<<a|p;y>=t;)y-=t,v(g>>y),g&=l[y]}if(!s&&y>0)for(v(g<<t-y);m.length%o>0;)m.push(i);return r&&s?m:m.join("")},u=function(e){return f(e,t,s,!1)},p=function(e){return f(e,s,t,!0)},this.encode=u,this.decode=p,a()};!function(e){e.fn.arfaly=function(a){function i(a,i){e("#arfaly-info-box-"+a).find(".arfaly-info-internal-content").html(i)}function t(a){y.config.debug&&(e(y.config.targetOutput).is(":visible")?e(".output-list-"+u.attr("id")).append("<li>"+a+"</li>"):(e(y.config.targetOutput).html('<br><ol class="output-list-'+u.attr("id")+'"><li>'+a+"</li></ol>"),e(y.config.targetOutput).delay(300).slideDown()))}function s(a){a.stopPropagation(),a.preventDefault(),u.find("#arfaly-filedrag-"+u.attr("id")).removeClass("hover").addClass("");var i=a.target.files||a.originalEvent.dataTransfer.files;e("input[id="+u.attr("id")+"-arfaly-files]").removeAttr("required"),y.config.chunkUpload?l(i):n(i)}function n(a){var s=a;for(j=0;j<s.length;j++){if(p>=y.config.limitNumberofFiles)return t("You have exceed upload limit ("+p+") !"),!1;if(0!=s[j].length){var n=new FormData;n.append("SelectedFile",s[j]),n.append("action",y.config.action),n.append("closify-id",u.attr("closify-id")),n.append("closify-idx",u.attr("closify-idx")),n.append("fileIndx",p),n.append("nonce",y.config.nonce),y.addFileItem(s[j].name,p);var r=y.beforeSubmit(s[j],p);if(null==f?e("#uploadItem-"+u.attr("id")+"-"+p).find("#mimePicture").addClass("arfaly-icon-file"):e("#uploadItem-"+u.attr("id")+"-"+p).find("#mimePicture").addClass(f),1==r.status){var l=new XMLHttpRequest;y.config.request[p]=l,y.config.request[p].index=p,y.config.request[p].cachedData=n,y.config.request[p].onreadystatechange=function(){if(4==this.readyState){e("#uploadItem-"+u.attr("id")+"-"+this.index).find(".arfaly-loading").css("display","block"),e("#uploadItem-"+u.attr("id")+"-"+this.index).find(".arfaly-ready").hide();try{var a=JSON.parse(this.response);"true"==a.status?(a.attid&&u.find("#file-"+this.index+"-"+u.attr("id")).val(a.attid),y.tagItemSuccess(this.index,!0,a.data),null!=a.newFileName&&e("#"+this.index+"-fileName").text(a.newFileName),null!=a.fullPath&&e("#preview-"+u.attr("id")+"-"+this.index).attr("link",a.fullPath),1==y.config.disablePostProgressAnimation&&(1==y.config.disablePostProgressAnimation&&u.find("#progress-style-"+u.attr("id")+"-"+this.index).addClass("arfaly-nostripes"),u.find("#progress-style-"+u.attr("id")+"-"+this.index).addClass("arfaly-nostripes")),y.config.successfulUpload(a)):(y.tagItemSuccess(this.index,!1,a.error),y.config.failedUpload(a),i(this.index,a.error))}catch(t){a={status:"error",msg:"Response string format is not a valid JSON: ["+this.responseText+"]"},y.tagItemSuccess(this.index,!1,a.msg)}}},y.config.request[p].upload.index=p,y.config.request[p].upload.addEventListener("progress",function(a){var i=a.loaded/a.total*100,t=this.index;e("#massUploadProgress-"+u.attr("id")+"-"+this.index).css("width",i+"%"),i>=100&&!y.config.disableRemovingItems&&setTimeout(function(){y.deleteItem(t)},y.config.delay)},!1),y.config.enforceInfo||(y.config.request[p].open(y.config.type,y.config.url),y.config.request[p].send(n)),p++}else y.tagItemSuccess(p,!1,r.responseText),p++}}return 0}function r(e){var a=y.bytesToSizeClass(e),i=y.config.maxUploadSize,t=Math.ceil(a.size/100);return"bytes"==a.type?i=a.size/2:"KB"==a.type?(i=a.size/5,i=1024*i):"MB"==a.type&&a.size<60?(i=a.size/5/t,i=1024*i*1024):"GB"==a.type?i=y.config.maxUploadSize:"TB"==a.type&&(i=y.config.maxUploadSize),Math.ceil(i)}function l(a){var s=a;for(j=0;j<s.length;j++){if(p>=y.config.limitNumberofFiles)return t("You have exceed upload limit ("+p+") !"),!1;if(0!=s[j].length){y.addFileItem(s[j].name,p);var n=y.beforeSubmit(s[j],p);if(null==f?e("#uploadItem-"+u.attr("id")+"-"+p).find("#mimePicture").addClass("arfaly-icon-file"):e("#uploadItem-"+u.attr("id")+"-"+p).find("#mimePicture").addClass(f),1==n.status){var l=new XMLHttpRequest;y.config.request[p]=l,chunkSize=r(s[j].size),y.config.request[p]=l,y.config.request[p].file=s[j],y.config.request[p].file_size=s[j].size,y.config.request[p].chunk_size=chunkSize,y.config.request[p].range_start=0,y.config.request[p].range_end=y.config.request[p].chunk_size,y.config.request[p].is_paused=!1,y.config.request[p].chunks=Math.ceil(s[j].size/chunkSize),y.config.request[p].counter=1,"mozSlice"in s[j]?y.config.request[p].slice_method="mozSlice":"webkitSlice"in s[j]?y.config.request[p].slice_method="webkitSlice":y.config.request[p].slice_method="slice",y.config.request[p].index=p,y.config.request[p].onreadystatechange=function(){if(4==this.readyState){e("#uploadItem-"+u.attr("id")+"-"+this.index).find(".arfaly-loading").css("display","block"),e("#uploadItem-"+u.attr("id")+"-"+this.index).find(".arfaly-ready").hide();try{var a=this.counter/this.chunks*100,t=this.index;a>100&&(a=100),a<30?e("#massUploadProgress-"+u.attr("id")+"-"+this.index).animate({width:a+"%"},200):a<90?e("#massUploadProgress-"+u.attr("id")+"-"+this.index).animate({width:a+"%"},1e3):a<100?e("#massUploadProgress-"+u.attr("id")+"-"+this.index).animate({width:"95%"},3e3):e("#massUploadProgress-"+u.attr("id")+"-"+this.index).animate({width:"100%"},30),a>=100&&!y.config.disableRemovingItems&&setTimeout(function(e){y.deleteItem(t)},y.config.delay);var s=JSON.parse(this.response);if(this.range_end!==this.file_size&&"true"==s.status&&(this.range_start=this.range_end,this.range_end=this.range_start+this.chunk_size,!this.is_paused))return void d(this,"","");"true"!=s.status&&u.find("#progress-style-"+u.attr("id")+"-"+this.index).addClass("droply-nostripes"),this.range_end===this.file_size||"true"!=s.status?"true"==s.status?(s.attid&&u.find("#file-"+this.index+"-"+u.attr("id")).val(s.attid),y.tagItemSuccess(this.index,!0,s.data),null!=s.newFileName&&e("#"+this.index+"-fileName").text(s.newFileName),null!=s.fullPath&&e("#preview-"+u.attr("id")+"-"+this.index).attr("link",s.fullPath),1==y.config.disablePostProgressAnimation&&(1==y.config.disablePostProgressAnimation&&u.find("#progress-style-"+u.attr("id")+"-"+this.index).addClass("arfaly-nostripes"),u.find("#progress-style-"+u.attr("id")+"-"+this.index).addClass("arfaly-nostripes")),"true"==y.config.enforceInfo&&u.find("#upload-button-"+this.index+"-"+u.attr("id")).remove(),y.config.successfulUpload(s)):(y.tagItemSuccess(this.index,!1,s.error),y.config.failedUpload(s),i(this.index,s.error)):"false"==s.status&&(y.tagItemSuccess(this.index,!1,s.error),y.config.failedUpload(s),i(this.index,s.error))}catch(n){s={status:"error",msg:"Response string format is not a valid JSON: ["+this.responseText+"]"},y.tagItemSuccess(this.index,!1,s.msg)}}},y.config.request[p].upload.index=p,y.config.enforceInfo||(e("#massUploadProgress-"+u.attr("id")+"-"+p).animate({width:"1%"},2e3),d(y.config.request[p],"","")),p++}else y.tagItemSuccess(p,!1,n.responseText),p++}}return 0}function o(a,i,t){1==y.config.devDebug&&console.log("Request["+a+"] has started"),y.config.chunkUpload?(e("#massUploadProgress-"+u.attr("id")+"-"+a).animate({width:"10%"},2e3),d(y.config.request[a],i,t)):(y.config.request[a].open(y.config.type,y.config.url),y.config.request[a].send(y.config.request[a].cachedData),y.config.request[a]="invalid")}function d(e,a,i){var t=e;t.timerLoop=setTimeout(function(){"true"!=y.config.enforceInfo?c(t,"",""):c(t,a,i)},20)}function c(a,i,t){a.range_end>a.file_size&&(a.range_end=a.file_size);var s=a.file[a.slice_method](a.range_start,a.range_end),n=new FormData;if(n.append("action",y.config.action),n.append("closify-id",u.attr("closify-id")),n.append("closify-idx",u.attr("closify-idx")),n.append("fileIndx",a.index),n.append("nonce",y.config.nonce),n.append("file-name",a.index+"_"+a.file.name),n.append("file-type",a.file.type),n.append("file-size",a.file.size),n.append("chunk-upload","true"),n.append("chunk",a.counter),n.append("chunks",a.chunks),n.append("file",s),"true"==y.config.enforceInfo){var r=e("#uploadItem-"+u.attr("id")+"-"+a.index).find('input[name="arfaly-title"]'),l=e("#uploadItem-"+u.attr("id")+"-"+a.index).find('textarea[name="arfaly-desc"]'),i=r.val(),t=l.val();n.append("title",i),n.append("desc",t)}a.open(y.config.type,y.config.url,!0),a.overrideMimeType("application/octet-stream"),0!==a.range_start&&a.setRequestHeader("Content-Range","bytes "+a.range_start+"-"+a.range_end+"/"+a.file_size),a.send(n),a.counter++}var f,u=this,p=0,g=new Asas({dataBits:8,codeBits:6,keyString:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pad:"="}),y={init:function(){y.config=e.extend({allowedFileSize:10485760,delay:5e3,multi:!0,request:[],url:"processMultipleUploads.php",dataType:"json",limitNumberofFiles:10,required:"false",formRequired:"false",enforceInfo:!1,enterTitleLbl:"Enter Upload Title",enterDescLbl:"Enter Upload Description",enterEmailLbl:"Enter your email",enterName:"Enter your name",label:"Allowed file types are gif, jpg, and png.",dropBox:{title:"Drop files here",height:100,fontSize:26},stableUploadLbl:"Everything going well so far!",uploadBtnLbl:"Upload",previewBtnLbl:"Preview",deleteBtnLbl:"Delete",deleteConfirmLbl:"Are you sure you want to delete the file?",backgroundIcon:"",chunkSize:5242880,maxUploadSize:16777216,chunkUpload:!0,debug:!1,dragDrop:!0,circularDropbox:!1,theme:"simplex",targetOutput:".output",type:"post",devDebug:!1,nonce:"",disablePreview:!1,disablePostProgressAnimation:!0,disableRemovingItems:!0,backgroundColor:"",logoColor:"rgb(150, 155, 255)",textColor:"#DADADA",borderColor:"#DADADA",labelColor:"rgb(90, 90, 90)",progressBarColor:"orange",action:"itech_arfalygold_submission",beforeSubmit:y.beforeSubmit,successfulUpload:y.successfulUpload,failedUpload:y.failedUpload,fileDeleted:y.fileDeleted},a),y.Setup(),e(y.config.targetOutput).hide()},Setup:function(){var e="",a="",i="",t="",s="",n="",r="";""!=y.config.backgroundIcon?(s="; background-image: url("+y.config.backgroundIcon+"); background-size: auto; background-position: 50% 20%; background-repeat: no-repeat;",r=";padding-top:"+y.config.dropBox.height+"px;"):n='<span id="arfaly-dropbox-icon-'+u.attr("id")+'" class="arfaly-showcase arfaly-icon arfaly-icon-cloud-storage" style="color:'+y.config.logoColor+'"></span>',y.config.multi&&(e="multiple"),"false"!=y.config.dragDrop&&(a="opacity:0;pointer-events: none;"),"true"==y.config.circularDropbox&&(i="arfaly-circular-dropbox"),"true"==y.config.formRequired&&(t="required");var l="",o='<p class="arfaly-label" style="color:'+y.config.labelColor+'">'+y.config.label+"</p>",d='<input class="arfaly-multi-file-input" type="file" style="'+a+'" name="files[]" id="'+u.attr("id")+'-arfaly-files" '+e+" "+t+">",c='<div><div id="arfaly-filedrag-'+u.attr("id")+'" class="arfaly-filedrag '+i+'" style="color: '+y.config.textColor+";border: 5px dashed "+y.config.borderColor+";"+s+'">'+n+'<br/><div style="'+r+";font-size:"+y.config.dropBox.fontSize+'px" class="arfaly-box-label" id="box-label-'+u.attr("id")+'" >'+y.config.dropBox.title+"</div>"+d+"</div><br/>"+o+"</div>",f='<div id="'+u.attr("id")+'-ListItem" class="arfaly-multi-images"></div>';u.addClass("arfaly-multiple-upload"),"false"!=y.config.dragDrop?u.html(l+c+f):u.html(l+d+f)},bytesToSize:function(e){var a=["Bytes","KB","MB","GB","TB"];if(0==e)return"0 Bytes";var i=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,i),2)+" "+a[i]},bytesToSizeClass:function(e){var a=["Bytes","KB","MB","GB","TB"];if(0==e)return"0 Bytes";var i=parseInt(Math.floor(Math.log(e)/Math.log(1024))),t={size:Math.round(e/Math.pow(1024,i),2),type:a[i]};return t},successfulUpload:function(e){},failedUpload:function(e){},fileDeleted:function(a){a.fileIdx;e.ajax({url:y.config.url,type:"POST",data:a,success:function(e){t(e)}})},beforeSubmit:function(e,a){var i=[],t=navigator.userAgent.indexOf("Chrome")>-1,s=navigator.userAgent.indexOf("Safari")>-1;if(t&&s&&(s=!1),window.File&&window.FileReader&&window.FileList&&window.Blob){var n=e.size,r=e.type;switch(r){case"application/octet-stream":case"application/postscript":case"image/png":case"image/gif":case"image/jpeg":case"image/pjpeg":case"image/x-png":case"image/jpg":case"image/x-windows-bmp":case"image/bmp":case"image/tiff":case"image/x-tiff":case"image/svg+xml":f="arfaly-icon-photo";break;case"audio/aac":case"audio/mp4":case"audio/mp3":case"audio/ogg":case"audio/wav":case"audio/webm":f="arfaly-icon-music";break;case"video/mp4":case"video/ogg":case"video/mov":case"video/webm":case"video/avi":case"video/mkv":case"video/x-matroska":f="arfaly-icon-video2";break;case"application/x-zip-compressed":case"application/zip":case"application/x-rar-compressed":f="arfaly-icon-wallet";break;default:f="arfaly-icon-file"}return n>y.config.allowedFileSize?(i.status=!1,i.responseText=y.bytesToSize(n)+": The file size has exceeded the limit ("+y.config.allowedFileSize/1024/1024+"MB) !",i):(i.status=!0,i)}return i.status=!1,i.responseText="Please upgrade your browser, because your current browser lacks some new features we need!",i},deleteItem:function(a){var i={"arfaly-id":u.attr("id"),command:"delete",arfalyfn:g.encode(u.find("#"+a+"-fileName").text()),fileIndx:a,action:y.config.action,nonce:y.config.nonce,raqmkh:g.encode(u.find("#file-"+a+"-"+u.attr("id")).val())};y.config.fileDeleted(i),e("#uploadItem-"+u.attr("id")+"-"+a).addClass("arfaly-animated bounceOutRight"),setTimeout(function(i){e("#uploadItem-"+u.attr("id")+"-"+a).remove()},600)},addFileItem:function(a,i){var t="",s="",n="";y.config.disablePreview||(s='<a rel="external" link="" id="preview-'+u.attr("id")+"-"+i+'" index="'+i+'" class="arfaly-preview"><span class="arfaly-icon arfaly-icon-earth" title="'+y.config.previewBtnLbl+'"></span></a>',n='<a class="arfaly-button arfaly-preview" index="'+i+'" >'+y.config.previewBtnLbl+"</a>"),"true"==y.config.required&&(t="required");var r='<input type="hidden" id="file-'+i+"-"+u.attr("id")+'" name="image-id[]" value="" />',l='<div id="arfaly-info-box-'+i+'" class="arfaly-info-box noselect"><div class="arfaly-info-p"><a class="arfaly-close" index="'+i+'"><span class="arfaly-info-close arfaly-icon arfaly-icon-delete"></span></a><div class="arfaly-info-internal-content">'+y.config.stableUploadLbl+'</div></div><div class="arfaly-pointer"></div></div>',d='<div class="clearfix arfaly-form-container"><input class="arfaly-input" type="text" name="arfaly-title" placeholder="'+y.config.enterTitleLbl+'" '+t+'/><br><textarea rows="2" class="arfaly-input" type="textarea" name="arfaly-desc" placeholder="'+y.config.enterDescLbl+'" '+t+'/><a class="arfaly-button arfaly-upload noselect" id="upload-button-'+i+"-"+u.attr("id")+'" index="'+i+'">'+y.config.uploadBtnLbl+'</a><a class="arfaly-button arfaly-delete noselect" id="'+i+'">'+y.config.deleteBtnLbl+"</a>"+n+"</div>";y.config.enforceInfo||(d="");var c='<a class="info-icon" index="'+i+'"><span class="arfaly-info-icon arfaly-icon arfaly-icon-info" ></span></a>',f='<a class="info-icon" index="'+i+'" title="Information Button"><span class="arfaly-icon arfaly-icon-info-large"></span></a>',p='<div id="uploadItem-'+u.attr("id")+"-"+i+'" class="arfaly-default-theme"><div class="arfaly-oval"><span class="arfaly-ready arfaly-icon arfaly-icon-plus" style="margin-top:35px;"></span><span class="arfaly-loading arfaly-icon arfaly-icon-spinner"></span><div id="mass-item-success-'+u.attr("id")+"-"+i+'" class="notification-oval"><ul class="arfaly-oval-list-info" id="mass-item-oval-info-'+u.attr("id")+"-"+i+'"><li class="arfaly-tick-text"  id="mass-item-success-text-'+u.attr("id")+"-"+i+'" style=";color:white;font-family:cursive;font-size:10px;color:white;list-style:none"></li></li></ul></div></div><div class="arfaly-list-div noselect" style="background-color:'+y.config.backgroundColor+'" >'+r+'<div><div class="arfaly-list-icon arfaly-left"><span id="mimePicture" class="arfaly-icon" style="font-size:40px"></span></div><div class="progress-container arfaly-right"><div id="progress-style-'+u.attr("id")+"-"+i+'" class="arfaly-meter '+y.config.progressBarColor+' arfaly-right"><span id="massUploadProgress-'+u.attr("id")+"-"+i+'" style="width: 0%;" class="arfaly-span-progress"></span></div><div id="'+i+'-fileName" class="arfaly-filename">'+a+'</div><div class="arfaly-list-menu arfaly-right"><ul><li><a class="arfaly-delete" id="'+i+'"><span class="arfaly-icon arfaly-icon-remove" title="'+y.config.deleteBtnLbl+'"></span></a>&nbsp;'+s+"</li></ul></div></div>"+c+"</div></div>"+d+"</div>",g='<div id="uploadItem-'+u.attr("id")+"-"+i+'" class="theme-1"><div class="arfaly-list-div noselect" style="background-color:'+y.config.backgroundColor+'">'+r+'<div><div class="progress-container arfaly-left"><div id="progress-style-'+u.attr("id")+"-"+i+'" class="arfaly-meter '+y.config.progressBarColor+' arfaly-left"><span id="massUploadProgress-'+u.attr("id")+"-"+i+'" style="width: 0%;" class="arfaly-span-progress"></span></div><div id="'+i+'-fileName" class="arfaly-filename">'+a+'</div></div><div class="arfaly-list-menu arfaly-right"><ul><li><a class="arfaly-delete" id="'+i+'"><span class="arfaly-icon arfaly-icon-remove" title="'+y.config.deleteBtnLbl+'"></span></a>&nbsp;'+s+"&nbsp;"+f+'<div class="arfaly-oval"><span class="arfaly-ready arfaly-icon arfaly-icon-plus"></span><span class="arfaly-loading arfaly-icon arfaly-icon-spinner" style="display: none;"></span><div id="mass-item-success-'+u.attr("id")+"-"+i+'" class="notification-oval" style="margin-top: 1px"><ul class="arfaly-oval-list-info" id="mass-item-oval-info-'+u.attr("id")+"-"+i+'"></ul></div></div></li></ul></div><div class="arfaly-list-icon arfaly-right"><span id="mimePicture" class="arfaly-icon" style="font-size:40px"></span></div></div></div>'+d+"</div>",m='<div id="uploadItem-'+u.attr("id")+"-"+i+'" class="theme-2"><div class="arfaly-list-div noselect" style="background-color:'+y.config.backgroundColor+'">'+r+'<div><div class="progress-container arfaly-left"><div id="progress-style-'+u.attr("id")+"-"+i+'" class="arfaly-meter '+y.config.progressBarColor+' arfaly-right"><span id="massUploadProgress-'+u.attr("id")+"-"+i+'" style="width: 0%;" class="arfaly-span-progress"></span></div><div id="'+i+'-fileName" class="arfaly-filename">'+a+'</div></div><div class="arfaly-list-menu arfaly-right"><ul><li><a class="arfaly-delete" id="'+i+'"><span class="arfaly-icon arfaly-icon-remove" title="'+y.config.deleteBtnLbl+'"></span></a>&nbsp;'+s+'<a class="info-icon" index="'+i+'" title="Information Button"><span class="arfaly-icon arfaly-icon-info-large"></span></a><div class="arfaly-oval"><span class="arfaly-ready arfaly-icon arfaly-icon-plus"></span><span class="arfaly-loading arfaly-icon arfaly-icon-spinner" style="display: none;"></span><div id="mass-item-success-'+u.attr("id")+"-"+i+'" class="notification-oval"><ul class="arfaly-oval-list-info" id="mass-item-oval-info-'+u.attr("id")+"-"+i+'"></ul></div></div></li></ul></div></div></div>'+d+"</div>",v=g;switch(y.config.theme){case"default":v=p;break;case"simplex":v=g;break;case"super-simplex":v=m;break;default:v=g}e("#"+u.attr("id")+"-ListItem").prepend(v),jQuery("body").prepend(l),y.config.enforceInfo||(e("#uploadItem-"+u.attr("id")+"-"+i).find(".arfaly-loading").css("display","block"),e("#uploadItem-"+u.attr("id")+"-"+i).find(".arfaly-ready").hide());var h=e("#uploadItem-"+u.attr("id")+"-"+i).find(".arfaly-oval").height()-e("#mass-item-success-"+u.attr("id")+"-"+i).height();e("#mass-item-success-"+u.attr("id")+"-"+i).css("margin-top",h/2+"px"),e("#uploadItem-"+u.attr("id")+"-"+i).find("a.arfaly-delete").click(function(){var a=confirm(y.config.deleteConfirmLbl);if(a){var i=e(this).attr("id");y.deleteItem(i)}});var b,x;"default"==y.config.theme?(x=-35,b=25):(x=25,b=-100),e("#uploadItem-"+u.attr("id")+"-"+i).find("a.info-icon").click(function(a){e("#arfaly-info-box-"+i).css("top",a.pageY+x),e("#arfaly-info-box-"+i).css("left",a.pageX+b),e("#arfaly-info-box-"+i).slideDown()}),e("#arfaly-info-box-"+i).find("a.arfaly-close").click(function(a){var i=e(this).attr("index");e("#arfaly-info-box-"+i).slideUp()}),e(document).mouseup(function(a){var i=e(".arfaly-info-box");i.is(a.target)||0!==i.has(a.target).length||i.hide()}),e("#uploadItem-"+u.attr("id")+"-"+i).find("a.arfaly-preview").click(function(){var a=e(this).attr("index");""!=e("#preview-"+u.attr("id")+"-"+a).attr("link")&&window.open(e("#preview-"+u.attr("id")+"-"+a).attr("link"),"_blank")}),y.config.enforceInfo&&e("#uploadItem-"+u.attr("id")+"-"+i).find("a.arfaly-upload").click(function(){1==y.config.devDebug&&(console.log("Upload["+a+"] initiated by upload click"),console.log(y.config.request));var a=e(this).attr("index"),i=e("#uploadItem-"+u.attr("id")+"-"+a).find('input[name="arfaly-title"]'),t=e("#uploadItem-"+u.attr("id")+"-"+a).find('textarea[name="arfaly-desc"]'),s=i.val(),n=t.val();return"undefined"==typeof s||""==s&&"true"==y.config.required?(e(i).focus(),!1):"undefined"==typeof n||""==n&&"true"==y.config.required?(e(t).focus(),!1):void(null!=y.config.request[a]?(1==y.config.devDebug&&console.log("Upload["+a+"] started"),o(a,s,n)):1==y.config.devDebug&&console.log("arfaly.config.request["+a+"] already uploaded"))}),e("div.arfaly-list-div").click(function(e){e.preventDefault()})},tagItemSuccess:function(a,s,n){e("#uploadItem-"+u.attr("id")+"-"+a).find(".arfaly-loading").hide(),1==y.config.devDebug&&console.log("Success tag = ["+s+"]"),s||e("#uploadItem-"+u.attr("id")+"-"+a).find(".arfaly-ready").hide();var r;s?(e("#uploadItem-"+u.attr("id")+"-"+a).find(".arfaly-preview").fadeIn(),e("#uploadItem-"+u.attr("id")+"-"+a).find(".arfaly-delete").fadeIn(),r='<li class="arfaly-icon arfaly-icon-tick center-icon" style="font-size:18px;color:white"></li>'):(r='<li class="arfaly-icon arfaly-icon-times center-icon" style="font-size:18px;color:white"></li>',i(a,n)),"true"!=e("#mass-item-success-"+u.attr("id")+"-"+a).attr("updated")&&(e("#mass-item-oval-info-"+u.attr("id")+"-"+a).prepend(r),e("#mass-item-success-"+u.attr("id")+"-"+a).attr("title",n),e("#uploadItem-"+u.attr("id")+"-"+a).attr("title",n),e("#mass-item-success-"+u.attr("id")+"-"+a).addClass("arfaly-animated "+(s?"flipNotificationSuccess":"flipNotificationError")),e("#mass-item-success-text-"+u.attr("id")+"-"+a).html(s?"Succeed":"Failed"),e("#mass-item-success-"+u.attr("id")+"-"+a).attr("updated","true"),t(n))},fileDragHover:function(e){e.stopPropagation(),e.preventDefault(),u.find("#arfaly-filedrag-"+u.attr("id")).removeClass("hover").addClass("dragover"==e.type?"hover":"")}};y.init();var m=u.find("#arfaly-filedrag-"+u.attr("id"));m.on("dragover",y.fileDragHover),m.on("dragleave",y.fileDragHover),m.on("drop",s),m.css("display","block"),m.click(function(a){var i=a.target.id;i!="arfaly-dropbox-icon-"+u.attr("id")&&i!="arfaly-filedrag-"+u.attr("id")||e("input[id="+u.attr("id")+"-arfaly-files]").click()}),this.find("input[type=file]").change(function(){y.config.chunkUpload?l(this.files):n(this.files)})}}(jQuery);